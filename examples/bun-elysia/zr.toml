# Auto-generated by: zr init --detect
# Bun project with Elysia web framework

[tasks.dev]
description = "Start development server with hot reload"
cmd = "bun run --watch index.ts"

[tasks.start]
description = "Start production server"
cmd = "bun run index.ts"

[tasks.test]
description = "Run tests"
cmd = "bun test"

[tasks.build]
description = "Build for production"
cmd = "bun build index.ts --outdir dist --target bun"

[tasks.check]
description = "Type check without emitting"
cmd = "tsc --noEmit"

[tasks.lint]
description = "Lint code"
cmd = "eslint ."

[tasks.format]
description = "Format code"
cmd = "prettier --write ."

# Enhanced tasks (not from auto-detection)

[tasks.install]
description = "Install dependencies"
cmd = "bun install"

[tasks.clean]
description = "Remove build artifacts and dependencies"
cmd = "rm -rf dist node_modules bun.lockb"

[tasks.compile]
description = "Compile to standalone executable"
cmd = "bun build index.ts --compile --outfile dist/server"

[tasks.bench]
description = "Run benchmarks"
cmd = "bun run --bun benchmark.ts"

[tasks.test-watch]
description = "Run tests in watch mode"
cmd = "bun test --watch"

[tasks.outdated]
description = "Check for outdated dependencies"
cmd = "bun outdated"

# Workflows

[workflow.ci]
description = "Continuous integration workflow"
stages = [
  { tasks = ["format", "lint"], fail_fast = true },
  { tasks = ["check"] },
  { tasks = ["test"] },
  { tasks = ["build"] }
]

[workflow.pre-commit]
description = "Pre-commit checks"
stages = [
  { tasks = ["format", "lint"], fail_fast = true },
  { tasks = ["test"] }
]

[workflow.full-check]
description = "Comprehensive quality checks"
stages = [
  { tasks = ["install"] },
  { tasks = ["format", "lint", "check"], parallel = true },
  { tasks = ["test"] },
  { tasks = ["build"] }
]

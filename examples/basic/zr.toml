# Basic zr.toml Example
# This demonstrates the core features of zr for a simple project

[project]
name = "my-project"
version = "1.0.0"

# Simple tasks
[tasks.hello]
cmd = "echo 'Hello from zr!'"
description = "Print a greeting"

[tasks.build]
cmd = "echo 'Building project...'"
description = "Build the project"

[tasks.test]
cmd = "echo 'Running tests...'"
description = "Run tests"
# Depend on build task
deps = ["build"]

[tasks.clean]
cmd = "rm -rf dist/ build/"
description = "Clean build artifacts"

# Task with environment variables
[tasks.deploy]
cmd = "echo 'Deploying to $ENV...'"
description = "Deploy to environment"
deps = ["test"]
env = { ENV = "production" }

# Task with working directory
[tasks.backend-test]
cmd = "npm test"
description = "Run backend tests"
cwd = "./backend"

# Parallel tasks using matrix
[tasks.lint]
cmd = "echo 'Linting ${{lang}}...'"
description = "Lint all languages"
matrix.lang = ["javascript", "python", "rust"]

# Task that never caches (always runs)
[tasks.timestamp]
cmd = "date"
description = "Show current timestamp"
cache = false
